extends ../../layouts/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug
include ../../mixins/pagination.pug
include ../../mixins/form-change-multi.pug
include ../../mixins/alert.pug
include ../../mixins/sort.pug
block main 
  +alert-success("5000")
  h1 Phân quyền quyền

  div(class="form-group" style="display: flex; justify-content: flex-end")
    button(type="submit" class="btn btn-primary" button-submit) Cập nhập
  table(
    class="table table-hover table-sm"
    table-permissions
  )
    thead 
      tr 
        th Chức năng
        each item in roles 
          th(class="text-center") #{item.title}
    tbody
      //- Get id of role 
      tr(data-name="id")
        td 
          each item in roles
            td(class="text-center" style="display: none")
              input(type="text" value=item.id)
      //- Get id of role 

      tr
        td(colspan=roles.length+1 style="font-weight: bold; ") Danh mục sản phẩm
      tr(data-name="product-category_view")
        td Xem 
        each item in roles 
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="product-category_create")
        td Thêm mới
        each item in roles 
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="product-category_edit")
        td Chỉnh sửa
        each item in roles 
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="product-category_delete")
        td Xoá
        each item in roles 
          td(class="text-center")
            input(type="checkbox")

  form(
    action=`${prefixAdmin}/roles/permissions?_method=PATCH`
    method="POST"
    id="form-change-permissions"
  )
    div(class="form-group", style="display:none")
      input(
        type="text"
        class="form-control"
        name="permissions"
      )
  script(src="/admin/js/role.js")
  